erDiagram
    TENANT {
        string tenant_id PK
        string name
        string kb_namespace
        string vectordb_namespace
        string llm_model
        string guardrail_profile
    }
    GROUP_MASTER {
        string group_name PK
        string description
    }
    ACL_MASTER {
        string acl_key PK
        string description
    }
    TENANT_GROUP_MAPPING {
        string group_name FK
        string tenant_id FK
    }
    TENANT_ACL {
        string tenant_id FK
        string acl_key FK
    }
    DOCUMENT {
        string doc_id PK
        string tenant_id FK
        json metadata
    }
    VECTOR_ENTRY {
        string vector_id PK
        string doc_id FK
        json metadata
    }
    GUARDRAIL_PROFILE {
        string profile_id PK
        json rules
    }

    TENANT ||--o{ TENANT_GROUP_MAPPING : has
    GROUP_MASTER ||--o{ TENANT_GROUP_MAPPING : maps
    TENANT ||--o{ TENANT_ACL : defines
    ACL_MASTER ||--o{ TENANT_ACL : used_by
    TENANT ||--o{ DOCUMENT : owns
    DOCUMENT ||--o{ VECTOR_ENTRY : has
    TENANT ||--|| GUARDRAIL_PROFILE : uses


