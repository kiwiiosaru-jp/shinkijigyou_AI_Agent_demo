flowchart TD
    subgraph Preparation
        SSO[Entra SSO]
        Cognito[AWS Cognito]
        Master[マスタ・設定テーブル]
        SSO --> Cognito --> Master
    end

    subgraph Operation
        Client[クライアント]
        API[API Gateway]
        Tenant[Tenant Resolver]
        LLM[LLM Gateway]
        KB[Knowledge Base / VectorDB]
        Client --> API
        API --> Tenant
        Tenant --> LLM
        LLM --> KB
    end

    Master --> Client

